<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script src="spreedly.js"></script>
	<script type="text/javascript">
		$(document).ready(function () {

			$("#payment_method").click(function () {
        		
			    var firstName = $("#firstname").val();
			    var lastName = $("#lastname").val();
			    var cardNumber = $("#cardNumber").val();
			    var month = $("#month").val();
			    var year = $("#year").val();
			    var cvv = $("#cvv_payment").val();

			    // alert(firstName+'\n\n'+lastName+'\n\n'+cardNumber+'\n\n'+month+'\n\n'+year+'\n\n'+cvv);

			   	payment_method(firstName, lastName, cardNumber, month, year, cvv);

			});

		  	function payment_method(firstName, lastName, cardNumber, month, year, cvv){
		  		alert(firstName+'\n\n'+lastName+'\n\n'+cardNumber+'\n\n'+month+'\n\n'+year+'\n\n'+cvv);
			    Spreedly.tokenize({
					environmentKey: '8swOjWN7iUOAozk0w0tj9gvMBY8', // my environment key 
					firstName: firstName,
					lastName: lastName,
					number: cardNumber,
					month: month,
					year: year,
					cvv: cvv,
				  callback: function(token) {
				    // alert('I tokenized a payment! Woot! ' + token);
				    console.log('I tokenized a payment! Woot! ' + token);
				    document.getElementById('token_request').value = token;
				  },
				  error: function() {
				    // alert('Something went horribly wrong.');
				    console.log('Something went horribly wrong.');
				  }
				}); //spreedly.tokenize end
		    };// payment_method function end

		});// $(document).ready(function(){ }); end
		
	</script>
</head>
<body>
<div style="border: 1px solid #000; padding: 10px; margin-bottom: 20px;">
<pre>Use this as sample:</pre>
<pre>
firstName: 'Bob',
lastName: 'Smith',
number: '4111111111111111',
month: 12,
year: 2017,
cvv: '123'
</pre>
</div>
<!-- For Payment_method -->
<div>Firstname: </div> <input type="text" id="firstname" name="firstname" placeholder="Firstname"/>
<div>Lastname: </div> <input type="text" id="lastname" name="lastname" placeholder="Lastname"/>
<div>Card Number: </div> <input type="text" id="cardNumber" name="cardNumber" placeholder="Card Number"/>
<div>Exp: </div> 
<select id="month" name="month">
	<option value="">Month</option>
	<option value="1">January</option>
	<option value="2">February</option>
	<option value="3">March</option>
	<option value="4">April</option>
	<option value="5">May</option>
	<option value="6">June</option>
	<option value="7">July</option>
	<option value="8">August</option>
	<option value="9">September</option>
	<option value="10">October</option>
	<option value="11">November</option>
	<option value="12">December</option>
</select>
<select id="year" name="year">
	<option value="">Year</option>
	<option value="2014">2014</option>
	<option value="2015">2015</option>
	<option value="2016">2016</option>
	<option value="2017">2017</option>
	<option value="2018">2018</option>
	<option value="2021">2021</option>
	<option value="2021">2021</option>
	<option value="2021">2021</option>
</select>
<div>CVV: </div> <input type="text" id="cvv_payment" name="cvv_payment" placeholder="ccv"/> <br>
<input type="submit" id="payment_method" name="payment_method" placeholder="Payment Method"/>
<!-- End For Payment_method -->
<hr/>
<input type="text" id="token_request" name="token_request" placeholder="Token requested"/>
<input type="submit" id="process_payment" name="process_payment" value="Process Payment"/>

</body>
</html>