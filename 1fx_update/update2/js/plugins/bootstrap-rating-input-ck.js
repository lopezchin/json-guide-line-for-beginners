(function(e){e.fn.rating=function(){function n(t,n){var r=e(t).find("i[data-value="+n+"]");r.removeClass("fa fa-star-o").addClass("fa fa-star");r.prevAll("i").removeClass("fa fa-star-o").addClass("fa fa-star");r.nextAll("i").removeClass("fa fa-star").addClass("fa fa-star-o")}function r(t){var n=e(t);n.find("i").removeClass("fa fa-star").addClass("fa fa-star-o");n.find(".rating-clear").hide();n.find("input").val("").trigger("change")}var t;for(t=this.length-1;t>=0;t--){var i,s,o,u=e(this[t]),a=u.data("max")||5,f=u.data("min")||0,l=u.data("clearable")||null,c="";for(s=f;s<=a;s++)c+=['<i class="fa fa-star-o" data-value="',s,'"></i>'].join("");l&&(c+=[' <a class="rating-clear" style="display:none;" href="javascript:void"><i class="fa fa-remove"></i> ',l,"</a>"].join(""));i=['<div class="rating-input">',c,'<input type="hidden" name="',u.attr("name"),'" value="',u.val(),'" id="',u.attr("id"),'" />',"</div>"].join("");u.replaceWith(i)}e(".rating-input").on("mouseenter","i",function(){var t=e(this);n(t.parent(),t.data("value"))}).on("mouseleave","i",function(){var t=e(this),i=t.siblings("input").val();i?n(t.parent(),i):r(t.parent())}).on("click","i",function(){var t=e(this),n=t.data("value");t.siblings("input").val(n).trigger("change");t.siblings(".rating-clear").show()}).on("click",".rating-clear",function(){r(e(this).parent())}).each(function(){var t=e(this).find("input").val();if(t){n(this,t);e(this).find(".rating-clear").show()}})};e(function(){e("input.rating[type=number]").length>0&&e("input.rating[type=number]").rating()})})(jQuery);